!function(){function e(e,t={}){const l=e,a=l.multiple,n={liveSearch:l.hasAttribute("data-live-search")?"true"===l.getAttribute("data-live-search"):void 0,maxSelections:l.hasAttribute("data-max-selections")?parseInt(l.getAttribute("data-max-selections")):void 0,placeholder:l.hasAttribute("data-placeholder")?l.getAttribute("data-placeholder"):void 0,clearAllButton:l.hasAttribute("data-clear-all-button")?"true"===l.getAttribute("data-clear-all-button"):void 0,selectOptgroups:l.hasAttribute("data-select-optgroups")?"true"===l.getAttribute("data-select-optgroups"):void 0,selectAllOption:l.hasAttribute("data-select-all-option")?"true"===l.getAttribute("data-select-all-option"):void 0,closeOnSelect:l.hasAttribute("data-close-on-select")?"true"===l.getAttribute("data-close-on-select"):void 0,allowEmpty:l.hasAttribute("data-allow-empty")?"true"===l.getAttribute("data-allow-empty"):void 0},s={liveSearch:void 0!==n.liveSearch?n.liveSearch:void 0!==t.liveSearch&&t.liveSearch,maxSelections:void 0!==n.maxSelections?n.maxSelections:void 0!==t.maxSelections?t.maxSelections:1/0,placeholder:void 0!==n.placeholder?n.placeholder:void 0!==t.placeholder?t.placeholder:"Select...",clearAllButton:void 0!==n.clearAllButton?n.clearAllButton:void 0!==t.clearAllButton&&t.clearAllButton,selectOptgroups:void 0!==n.selectOptgroups?n.selectOptgroups:void 0!==t.selectOptgroups&&t.selectOptgroups,selectAllOption:void 0!==n.selectAllOption?n.selectAllOption:void 0!==t.selectAllOption&&t.selectAllOption,closeOnSelect:void 0!==n.closeOnSelect?n.closeOnSelect:void 0===t.closeOnSelect||t.closeOnSelect,allowEmpty:void 0!==n.allowEmpty?n.allowEmpty:void 0!==t.allowEmpty&&t.allowEmpty},o=document.createElement("div");o.classList.add("snap-select"),o.setAttribute("role","combobox"),o.setAttribute("aria-expanded","false"),o.setAttribute("aria-haspopup","listbox"),l.parentNode.insertBefore(o,l),o.appendChild(l);const c=document.createElement("div");c.classList.add("snap-select-selected"),c.setAttribute("aria-live","polite"),o.appendChild(c);const i=document.createElement("div");i.classList.add("snap-select-tags"),c.appendChild(i);const d=document.createElement("div");let r,p;function u(){i.innerHTML="";const e=Array.from(l.selectedOptions);if(0===e.length){const e=document.createElement("span");e.classList.add("snap-select-placeholder"),e.textContent=s.placeholder,i.appendChild(e)}else e.forEach((e=>{const t=document.createElement("div");t.classList.add("snap-select-tag"),t.textContent=e.textContent;const l=document.createElement("span");l.classList.add("snap-select-remove"),l.textContent="×",l.addEventListener("click",(t=>{t.stopPropagation(),e.selected=!1,u(),m()})),t.appendChild(l),i.appendChild(t)}));if(a&&s.clearAllButton&&e.length>0){const e=document.createElement("span");e.classList.add("snap-select-clear-all"),e.textContent="×",e.addEventListener("click",(e=>{e.stopPropagation(),l.querySelectorAll("option").forEach((e=>e.selected=!1)),u(),m()})),i.appendChild(e)}}function m(){const e=r?r.value.toLowerCase():"";Array.from(d.querySelectorAll(".snap-select-optgroup")).forEach((t=>{let a=!1;Array.from(t.querySelectorAll(".snap-select-item")).forEach((t=>{const n=l.querySelector(`option[value="${t.dataset.value}"]`),s=t.dataset.key?t.dataset.key.toLowerCase():"";n&&n.selected?t.style.display="none":t.textContent.toLowerCase().includes(e)||s.includes(e)?(t.style.display="",a=!0):t.style.display="none"})),t.querySelector(".snap-select-optgroup-label").textContent.toLowerCase().includes(e)||a?t.style.display="":t.style.display="none"})),Array.from(d.querySelectorAll(".snap-select-item")).forEach((t=>{const a=l.querySelector(`option[value="${t.dataset.value}"]`),n=t.dataset.key?t.dataset.key.toLowerCase():"";!t.dataset.optgroup&&a&&a.selected?t.style.display="none":t.dataset.optgroup||!t.textContent.toLowerCase().includes(e)&&!n.includes(e)?t.dataset.optgroup||(t.style.display="none"):t.style.display=""}))}function v(e){i.innerHTML="";const t=document.createElement("div");if(t.classList.add("snap-select-single-selected-text"),t.textContent=e,s.allowEmpty){const e=document.createElement("span");e.classList.add("snap-select-clear-all"),e.textContent="×",e.style.float="right",e.addEventListener("click",(e=>{e.stopPropagation(),l.value="",v(s.placeholder)})),t.appendChild(e),t.style.display="inline-block",t.style.width="calc(100% - 4px)"}i.appendChild(t)}if(d.classList.add("snap-select-items"),d.setAttribute("role","listbox"),o.appendChild(d),s.liveSearch){const e=document.createElement("div");e.classList.add("snap-select-search-wrapper"),d.appendChild(e),r=document.createElement("input"),r.classList.add("snap-select-search"),r.setAttribute("placeholder","Search..."),e.appendChild(r),p=document.createElement("span"),p.classList.add("snap-select-clear-search"),p.textContent="×",p.style.display="none",p.addEventListener("click",(()=>{r.value="",p.style.display="none",m()})),e.appendChild(p),r.addEventListener("input",(()=>{p.style.display=r.value?"inline":"none",m()}))}if(c.addEventListener("click",(e=>{e.stopPropagation();const t="block"===d.style.display;o.setAttribute("aria-expanded",t?"false":"true"),d.style.display=t?"none":"block",function(){if(d.innerHTML="",s.liveSearch&&r&&d.appendChild(r.parentElement),a&&s.selectAllOption){const e=document.createElement("div");e.classList.add("snap-select-item","snap-select-all"),e.textContent="Select All",e.addEventListener("click",(e=>{e.stopPropagation();let t=0;Array.from(l.options).forEach((e=>{!e.selected&&l.selectedOptions.length<s.maxSelections&&(e.selected=!0,t++)})),t>0&&(u(),m())})),d.appendChild(e)}Array.from(l.children).forEach((e=>{if("OPTGROUP"===e.tagName){const t=document.createElement("div");t.classList.add("snap-select-optgroup");const n=document.createElement("div");n.classList.add("snap-select-optgroup-label"),n.textContent=e.label,n.style.fontWeight="bold",a&&s.selectOptgroups&&n.addEventListener("click",(t=>{t.stopPropagation();let a=0;Array.from(e.children).forEach((e=>{l.selectedOptions.length<s.maxSelections&&!e.selected&&(e.selected=!0,a++)})),a>0&&(u(),m())})),t.appendChild(n),Array.from(e.children).forEach((e=>{const n=document.createElement("div");n.textContent=e.textContent,n.dataset.value=e.value,n.dataset.key=e.dataset.key||"",n.classList.add("snap-select-item"),a&&e.selected&&(n.style.display="none"),n.addEventListener("click",(t=>{t.stopPropagation(),a?l.selectedOptions.length<s.maxSelections&&(e.selected=!0,u(),m(),s.closeOnSelect&&(d.style.display="none")):(l.value=e.value,v(e.textContent),d.style.display="none")})),t.appendChild(n)})),d.appendChild(t)}else if("OPTION"===e.tagName){const t=document.createElement("div");t.textContent=e.textContent,t.dataset.value=e.value,t.dataset.key=e.dataset.key||"",t.classList.add("snap-select-item"),t.dataset.optgroup="",t.addEventListener("click",(t=>{t.stopPropagation(),a?l.selectedOptions.length<s.maxSelections&&(e.selected=!0,u(),m(),s.closeOnSelect&&(d.style.display="none")):(l.value=e.value,v(e.textContent),d.style.display="none")})),d.appendChild(t)}})),s.liveSearch&&r&&m()}()})),document.addEventListener("click",(e=>{o.contains(e.target)||(d.style.display="none",o.setAttribute("aria-expanded","false"))})),a)u();else{const e=l.querySelector("option:checked");v(e?e.textContent:s.placeholder)}}window.SnapSelect=function(t,l){document.querySelectorAll(t).forEach((t=>{new e(t,l)}))},"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=e)}(),"classList"in document.createElement("_")||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e=this;function t(t){return function(l){var a=e.className.split(/\s+/),n=a.indexOf(l);t(a,n,l),e.className=a.join(" ")}}return{add:t((function(e,t,l){~t||e.push(l)})),remove:t((function(e,t){~t&&e.splice(t,1)})),toggle:t((function(e,t,l){~t?e.splice(t,1):e.push(l)})),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)}}}}),function(){if(!Element.prototype.addEventListener){var e=[],t=function(t,l){var a=this,n=function(e){e.target=e.srcElement,e.currentTarget=a,l.handleEvent?l.handleEvent(e):l.call(a,e)};if("DOMContentLoaded"==t){var s=function(e){"complete"==document.readyState&&n(e)};if(document.attachEvent("onreadystatechange",s),e.push({object:this,type:t,listener:l,wrapper:s}),"complete"==document.readyState){var o=new Event;o.srcElement=window,s(o)}}else this.attachEvent("on"+t,n),e.push({object:this,type:t,listener:l,wrapper:n})},l=function(t,l){for(var a=0;a<e.length;){var n=e[a];if(n.object==this&&n.type==t&&n.listener==l){"DOMContentLoaded"==t?this.detachEvent("onreadystatechange",n.wrapper):this.detachEvent("on"+t,n.wrapper),e.splice(a,1);break}++a}};Element.prototype.addEventListener=t,Element.prototype.removeEventListener=l,HTMLDocument&&(HTMLDocument.prototype.addEventListener=t,HTMLDocument.prototype.removeEventListener=l),Window&&(Window.prototype.addEventListener=t,Window.prototype.removeEventListener=l)}}();
